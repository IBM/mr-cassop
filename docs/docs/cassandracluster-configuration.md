---
title: CassandraCluster Configuration
slug: /cassandracluster-configuration
---

## CassandraCluster Field Specification Reference

| Field                                                     | Description                                                                                                                                                                                      | Is Required | Default                         |
|-----------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------|---------------------------------|
| `dcs                                          `           | Cassandra datacenters configuration                                                                                                                                                              | `Y`         |                                 |
| `dcs[].name                                   `           | Datacenter name                                                                                                                                                                                  | `Y`         |                                 |
| `dcs[].replicas                               `           | Replica count for the datacenter                                                                                                                                                                 | `Y`         |                                 |
| `dcs[].affinity                               `           | [Affinity](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/) configuration for the DC                                                                                    | `Y`         |                                 |
| `dcs[].tolerations                            `           | [Tolerations](https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/) configuration for the DC                                                                            | `Y`         |                                 |
| `imagePullSecretName                          `           | Name of a k8s secret configured for pulling container images                                                                                                                                     | `Y`         |                                 |
| `cqlConfigMapLabelKey                         `           | Name of a ConfigMap label, that if present, the entries of that ConfigMap will be executed as CQL queries                                                                                        | `N`         | `cql-scripts`                   |
| `adminRoleSecretName                          `           | Name of the secret with admin role credentials                                                                                                                                                   | `Y`         |                                 |
| `topologySpreadByZone                         `           | Spread nodes evenly across zones                                                                                                                                                                 | `N`         | `true`                          |
| `rolesSecretName                              `           | Name of the secret with Cassandra roles                                                                                                                                                          | `Y`         |                                 |
| `cassandra                                    `           | A Cassandra node configuration                                                                                                                                                                   | `N`         |                                 |
| `cassandra.configOverrides                    `           | A yaml formatted string with values to override default [`cassandra.yaml` config](https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/configuration/configCassandra_yaml.html) values       | `N`         |                                 |
| `cassandra.purgeGossip                        `           | Controls if the operator should purge Cassandra's gossip data on start of the node                                                                                                               | `N`         | `true`                          |
| `cassandra.numSeeds                           `           | Number of nodes (per DC) used as seeds                                                                                                                                                           | `N`         | `2`                             |
| `cassandra.terminationGracePeriodSeconds      `           | Duration in seconds the pod needs to terminate gracefully                                                                                                                                        | `N`         | `300`                           |
| `cassandra.image                              `           | Cassandra container image to use                                                                                                                                                                 | `N`         | as configured for the operator  |
| `cassandra.sysctls                            `           | A key-value map of sysctl settings needed to be set.                                                                                                                                             | `N`         | [sysctl docs](sysctl.md)        |
| `cassandra.imagePullPolicy                    `           | Image pull policy for Cassandra image                                                                                                                                                            | `N`         | `IfNotPresent`                  |
| `cassandra.resources                          `           | [Resource requests and limits](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container) for the container        | `N`         | `{}`                            |
| `cassandra.persistence                        `           | Persistence configuration                                                                                                                                                                        | `N`         | `{}`                            |
| `cassandra.persistence.enabled                `           | If disabled, an emptydir volume will be created. Can't be changed after cassandracluster is created.                                                                                             | `N`         | `false`                         |
| `cassandra.persistence.commitLogVolume        `           | Enable/disable usage of a separate volume for commitlog.                                                                                                                                         | `N`         | `false`                         |
| `cassandra.persistence.labels                 `           | Labels set for the Persistent Volume Claim                                                                                                                                                       | `N`         | `{}`                            |
| `cassandra.persistence.annotations            `           | Annotations set for Persistent Volume Claim                                                                                                                                                      | `N`         | `{}`                            |
| `cassandra.persistence.dataVolumeClaimSpec    `           | [PersistentVolumeClaimSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.20/#persistentvolumeclaimspec-v1-core) configs                                                      | `N`         | `{}`                            |
| `cassandra.persistence.commitLogVolumeClaimSpec`          | [PersistentVolumeClaimSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.20/#persistentvolumeclaimspec-v1-core) configs                                                      | `N`         | `{}`                            |
| `cassandra.zonesAsRacks                       `           | Enable/disable treat zones as racks. See [Treat Zones as Racks](multi-region-cluster-configuration.md#treat-zones-as-racks) in multi-cluster configurations.                                     | `N`         | `false`                         |
| `cassandra.jvmOptions                         `           | An array of JVM options applied to Cassandra JVM. E.g. ["-Xmx1024M", "-Xms512M"]  to set the maximum an minimum heap sizes.                                                                      | `N`         |                                 |
| `cassandra.monitoring                                   ` | Monitoring settings                                                                                                                                                                              | `N`         |                                 |
| `cassandra.monitoring.enabled                           ` | Enables or disables Cassandra monitoring                                                                                                                                                         | `N`         | `false`                         |
| `cassandra.monitoring.agent                             ` | Java agent to be used for exporting Cassandra metrics. Allowed values: [`tlp`, `instaclustr`, `datastax`]                                                                                        | `N`         | `tlp`                           |
| `cassandra.monitoring.serviceMonitor                    ` | Service monitor for C* metrics                                                                                                                                                                   | `N`         |                                 |
| `cassandra.monitoring.serviceMonitor.enabled            ` | Enables or disables creation of C* service monitor                                                                                                                                               | `N`         | `false`                         |
| `cassandra.monitoring.serviceMonitor.namespace          ` | Namespace where C* service monitor should be deployed                                                                                                                                            | `N`         |                                 |
| `cassandra.monitoring.serviceMonitor.labels             ` | Labels for C* service monitor                                                                                                                                                                    | `N`         | `{}`                            |
| `cassandra.monitoring.serviceMonitor.scrapeInterval     ` | Interval at which C* metrics should be scraped                                                                                                                                                   | `N`         | `30s`                           |
| `prober                                       `           | Prober settings                                                                                                                                                                                  | `N`         |                                 |
| `prober.image                                 `           | Prober container image to use                                                                                                                                                                    | `N`         | as configured for the operator  |
| `prober.imagePullPolicy                       `           | Image pull policy for prober image                                                                                                                                                               | `N`         | `IfNotPresent`                  |
| `prober.resources                             `           | [Resource requests and limits](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container) for the container        | `N`         | `{}`                            |
| `prober.debug                                 `           | Enable or disable verbose logging                                                                                                                                                                | `N`         | `false`                         |
| `prober.jolokia                               `           | Jolokia settings                                                                                                                                                                                 | `N`         |                                 |
| `prober.jolokia.image                         `           | Jolokia container image to use                                                                                                                                                                   | `N`         | as configured for the operator  |
| `prober.jolokia.imagePullPolicy               `           | Image pull policy for Jolokia image                                                                                                                                                              | `N`         | `IfNotPresent`                  |
| `prober.jolokia.resources                     `           | [Resource requests and limits](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container) for the container        | `N`         | `{}`                            |
| `prober.tolerations `                                     | [Tolerations](https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/) configuration for prober                                                                            | `N`         |                                 |
| `prober.nodeSelector `                                    | [NodeSelector](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#nodeselector) configuration for prober                                                                   | `N`         |                                 |
| `prober.affinity `                                        | [Affinity](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#affinity-and-anti-affinity) configuration for prober pod                                                     | `N`         |                                 |
| `ingress                                      `           | Ingress settings for the regions. Required if an external managed cluster is coneected to the current region.                                                                                    | `N`         |                                 |
| `ingress.domain                               `           | The ingress domain used to create Ingress resources                                                                                                                                              | `N`         | `""`                            |
| `ingress.secret                               `           | The TLS secret for [configuring a secure Ingress](https://kubernetes.io/docs/concepts/services-networking/ingress/#tls)                                                                          | `N`         | `""`                            |
| `ingress.annotations                          `           | Annotations set for the `Ingress` resources                                                                                                                                                      | `N`         | `[]`                            |
| `externalRegions                              `           | List of external regions connected to the current region                                                                                                                                         | `N`         | `[]`                            |
| `externalRegions.managed                      `           | List of managed by Cassandra Operator regions connected to the current region                                                                                                                    | `N`         | `[]`                            |
| `externalRegions.managed[].domain             `           | The ingress domain of an external Cassandra Operator managed region                                                                                                                              | `N`         |                                 |
| `externalRegions.managed[].namespace          `           | The namespace where the other operator managed region is deployed to                                                                                                                             | `N`         | Namespace of the current region |
| `externalRegions.umanaged                     `           | List of external unmanaged Cassandra regions. Should be used to connect the current region to an existing Cassandra cluster not managed by the operator                                          | `N`         |                                 |
| `externalRegions.unmanaged[].seeds            `           | List of seed hosts of an external unmanaged Cassandra region                                                                                                                                     | `N`         |                                 |
| `externalRegions.unmanaged[].dcs              `           | List of DCs of the external unmanaged region                                                                                                                                                     | `N`         |                                 |
| `externalRegions.unmanaged[].dcs[].name       `           | Name of the DC in the external region                                                                                                                                                            | `N`         |                                 |
| `externalRegions.unmanaged[].dcs[].rf         `           | Desired replication factor of DC in the external region. Used to configure the system keyspaces                                                                                                  | `N`         |                                 |
| `reaper                                       `           | Reaper settings                                                                                                                                                                                  | `N`         |                                 |
| `reaper.image                                 `           | Reaper container image to use                                                                                                                                                                    | `N`         | as configured by the operator   |
| `reaper.imagePullPolicy                       `           | Image pull policy for reaper image                                                                                                                                                               | `N`         | `IfNotPresent`                  |
| `reaper.keyspace                              `           | Keyspace to store reaper control data                                                                                                                                                            | `N`         | `reaper`                        |
| `reaper.tolerations                           `           | See [tolerations](https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/) description                                                                                     | `N`         | `[]`                            |
| `reaper.nodeSelector                          `           | See [nodeSelector](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#nodeselector) description                                                                            | `N`         | `{}`                            |
| `reaper.incrementalRepair                     `           | See `incrementalRepair` description in [reaper documentation](http://cassandra-reaper.io/docs/configuration/reaper_specific)                                                                     | `N`         | `false`                         |
| `reaper.repairManagerSchedulingIntervalSeconds`           | See `repairManagerSchedulingIntervalSeconds` description in [reaper documentation](http://cassandra-reaper.io/docs/configuration/reaper_specific)                                                | `N`         | `8`                             |
| `reaper.blacklistTWCS                         `           | See `blacklistTwcsTables` description in [reaper documentation](http://cassandra-reaper.io/docs/configuration/reaper_specific)                                                                   | `N`         | `true`                          |
| `reaper.resources                             `           | [Resource requests and limits](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container) for the reaper container | `N`         | `{}`                            |
| `reaper.serviceMonitor                        `           | Service monitor for reaper metrics                                                                                                                                                               | `N`         |                                 |
| `reaper.serviceMonitor.enabled                `           | Enables or disables creation of reaper service monitor                                                                                                                                           | `N`         | `false`                         |
| `reaper.serviceMonitor.namespace              `           | Namespace where reaper service monitor should be deployed                                                                                                                                        | `N`         |                                 |
| `reaper.serviceMonitor.labels                 `           | Labels for reaper service monitor                                                                                                                                                                | `N`         | `{}`                            |
| `reaper.serviceMonitor.scrapeInterval         `           | Interval at which reaper metrics should be scraped                                                                                                                                               | `N`         | `60s`                           |
| `reaper.scheduleRepairs                       `           | See [Reaper repair schedule configuration](reaper-repairs-configuration.md)                                                                                                                      | `N`         |                                 |
| `reaper.hangingRepairTimeoutMins              `           | The amount of time in minutes to wait for a single repair to finish.                                                                                                                             | `N`         | `30`                            |
| `reaper.repairThreadCount                     `           | Since Cassandra 2.2, repairs are multithreaded in order to process several token ranges concurrently and speed up the process. No more than four threads are allowed                             | `N`         | `1`                             |
| `reaper.segmentCountPerNode                   `           | Defines the default amount of repair segments to create for newly registered Cassandra repair runs, for each node in the cluster.                                                                | `N`         | `64`                            |
| `reaper.autoScheduling                        `           | See `autoScheduling` description in [reaper documentation](http://cassandra-reaper.io/docs/configuration/reaper_specific)                                                                        | `N`         |                                 |
| `reaper.autoScheduling.enabled                `           | Enables or disables autoScheduling                                                                                                                                                               | `N`         | `false`                         |
| `reaper.autoScheduling.periodBetweenPolls     `           | Time to wait before checking whether to start repair task                                                                                                                                        | `N`         | `PT10M` (10 minutes)            |
| `reaper.autoScheduling.timeBeforeFirstSchedule`           | Grace period before first repair in the schedule                                                                                                                                                 | `N`         | `PT5M`                          |
| `reaper.autoScheduling.scheduleSpreadPeriod   `           | Time spacing between each repair schedule                                                                                                                                                        | `N`         | `PT6H`                          |
| `reaper.autoScheduling.excludedKeyspaces      `           | Keyspaces to be excluded from repair schedule                                                                                                                                                    | `N`         | `[]`                            |
| `maintenance                                  `           | List of maintenance requests                                                                                                                                                                     | `N`         | `[]`                            |
| `maintenance.dc                               `           | Name of the DC for the maintenance request                                                                                                                                                       | `Y`         |                                 |
| `maintenance.pods                             `           | List of pod names to put in maintenance mode                                                                                                                                                     | `N`         | `[]`                            |
| `systemKeyspaces                              `           | System keyspaces configuration                                                                                                                                                                   | `N`         |                                 |
| `systemKeyspaces.keyspaces                    `           | List of keyspaces to configure                                                                                                                                                                   | `N`         | `[]`                            |
| `systemKeyspaces.dcs                          `           | List of datacenters to apply the configuration to                                                                                                                                                | `N`         | All datacenters                 |
| `systemKeyspaces.dcs[].name                   `           | Name of the DC to set replication factor for                                                                                                                                                     | `Y`         |                                 |
| `systemKeyspaces.dcs[].rf                     `           | Replication factor to set for the DC                                                                                                                                                             | `Y`         |                                 |
| `hostPort                                     `           | Cassandra hostPort configuration. See [hostPort Usage](exposing-clusters.md) for details                                                                                                         | `N`         |                                 |
| `hostPort.enabled                             `           | Enables or disables use of host port for Cassandra                                                                                                                                               | `N`         | `false`                         |
| `hostPort.useExternalHostIP                   `           | Enable usage of host internal IP for Cassandra                                                                                                                                                   | `N`         | `false`                         |
| `hostPort.ports                               `           | List of ports to set for hostPort                                                                                                                                                                | `N`         | `[]`                            |
| `jmxAuth                                      `           | Type of JMX authentication. Can be `internal` and `local_files`                                                                                                                                  | `N`         | `internal`                      |
| `networkPolicies                              `           | Kubernetes network policies configuration                                                                                                                                                        | `N`         |                                 |
| `networkPolicies.enabled                      `           | Enables Kubernetes network policies configuration. See [Network Policies usage](security/network-policies.md) for details                                                                        | `N`         | `false`                         |
| `networkPolicies.extraIngressRules                 `      | Configuration for granting access to C* cluster for ingress                                                                                                                                      | `N`         | `{}`                            |
| `networkPolicies.extraCassandraRules          `           | Configuration for granting access to C* cluster for external clients                                                                                                                             | `N`         | `{}`                            |
| `networkPolicies.extraPrometheusRules              `      | Configuration for granting access to C* cluster for prometheus                                                                                                                                   | `N`         | `{}`                            |
| `networkPolicies.extraCassandraIPs              `         | Configuration for granting access to C* cluster for non-managed C* nodes                                                                                                                         | `N`         | `[]`                            |
