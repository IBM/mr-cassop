apiVersion: db.ibm.com/v1alpha1
kind: CassandraCluster
metadata:
  name: test-cluster
spec:
  imagePullSecretName: icm-coreeng-pull-secret
  adminRoleSecretName: admin-role
  cassandra:
    imagePullPolicy: Always
    numSeeds: 2
    logLevel: info
    purgeGossip: false
    resources:
      limits:
        cpu: "1"
        memory: 1.5Gi
      requests:
        memory: 1.5Gi
        cpu: "1"
  jvm:
    maxHeapSize: 1024M
  dcs:
  - name: dc1
    replicas: 3
  - name: dc2
    replicas: 3
  prober:
    debug: true
    imagePullPolicy: Always
    resources:
      requests:
        cpu: 200m
        memory: 256Mi
    jolokia:
      imagePullPolicy: IfNotPresent
      resources:
        requests:
          cpu: 200m
          memory: 256Mi
  reaper:
    imagePullPolicy: IfNotPresent
    resources:
      requests:
        memory: 512Mi
        cpu: "0.5"
      limits:
        memory: 512Mi
        cpu: "0.5"
    tolerations: []
    nodeSelector: {}
    repairIntensity: "1.0"
    datacenterAvailability: each
    keyspace: reaper
  jmx: {}
  encryption:
    server:
      internodeEncryption: all
      tlsSecret:
        name: cassandra-cluster-tls
    client:
      enabled: true
      tlsSecret:
        name: cassandra-client-tls
      requireClientAuth: false
