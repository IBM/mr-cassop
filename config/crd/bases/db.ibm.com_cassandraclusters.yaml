
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.3.0
  creationTimestamp: null
  name: cassandraclusters.db.ibm.com
spec:
  group: db.ibm.com
  names:
    kind: CassandraCluster
    listKind: CassandraClusterList
    plural: cassandraclusters
    singular: cassandracluster
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: CassandraCluster is the Schema for the cassandraclusters API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: CassandraClusterSpec defines the desired state of CassandraCluster
            properties:
              cassandra:
                properties:
                  auth:
                    properties:
                      password:
                        type: string
                      user:
                        type: string
                    type: object
                  image:
                    type: string
                  imagePullPolicy:
                    description: PullPolicy describes a policy for if/when to pull
                      a container image
                    type: string
                  usersDir:
                    type: string
                type: object
              cassandraYaml:
                type: string
              config:
                description: 'Change cassandra configuration parameters below: ref:
                  http://docs.datastax.com/en/cassandra/3.0/cassandra/configuration/configCassandra_yaml.html
                  Recommended max heap size is 1/2 of system memory Recommended heap
                  new size is 1/4 of max heap size ref: http://docs.datastax.com/en/cassandra/3.0/cassandra/operations/opsTuneJVM.html'
                properties:
                  g1RSetUpdatingPauseTimePercent:
                    format: int32
                    type: integer
                  heapNewSize:
                    type: string
                  initiatingHeapOccupancyPercent:
                    format: int32
                    type: integer
                  internalAuth:
                    description: 'internalAuth: (true|false), configures Cassandra
                      to use internal authentication https://docs.datastax.com/en/archived/cassandra/2.1/cassandra/security/security_config_native_authenticate_t.html
                      https://docs.datastax.com/en/cassandra/3.0/cassandra/configuration/secureConfigNativeAuth.html'
                    type: boolean
                  logLevel:
                    type: string
                  maxGCPauseMillis:
                    format: int32
                    type: integer
                  maxHeapSize:
                    type: string
                  migrationTaskWaitSeconds:
                    format: int32
                    type: integer
                  numSeeds:
                    format: int32
                    type: integer
                  preferLocal:
                    type: boolean
                  rackName:
                    type: string
                  ringDelayMS:
                    format: int32
                    type: integer
                  seeds:
                    items:
                      type: string
                    type: array
                type: object
              cqlConfigMapLabelKey:
                type: string
              dcs:
                items:
                  properties:
                    name:
                      type: string
                    replicas:
                      format: int32
                      type: integer
                  required:
                  - name
                  - replicas
                  type: object
                type: array
              hostPort:
                properties:
                  enabled:
                    type: boolean
                  useHostIP:
                    type: boolean
                required:
                - enabled
                type: object
              imagePullSecretName:
                description: 'INSERT ADDITIONAL SPEC FIELDS - desired state of cluster
                  Important: Run "make" to regenerate code after modifying this file'
                type: string
              jmx:
                properties:
                  authentication:
                    description: 'Authentication available options: false, local_files,
                      internal If internals is selected for C* <3.6, authentication
                      will default to local_files'
                    type: string
                  ssl:
                    type: boolean
                required:
                - authentication
                - ssl
                type: object
              kwatcher:
                properties:
                  enabled:
                    type: boolean
                  image:
                    type: string
                  imagePullPolicy:
                    description: PullPolicy describes a policy for if/when to pull
                      a container image
                    type: string
                required:
                - enabled
                - image
                - imagePullPolicy
                type: object
              monitoring:
                properties:
                  enabled:
                    type: boolean
                  port:
                    format: int32
                    type: integer
                required:
                - enabled
                - port
                type: object
              nodetoolUser:
                type: string
              prober:
                properties:
                  debug:
                    type: boolean
                  image:
                    type: string
                  imagePullPolicy:
                    description: PullPolicy describes a policy for if/when to pull
                      a container image
                    type: string
                  jolokia:
                    properties:
                      image:
                        type: string
                      imagePullPolicy:
                        description: PullPolicy describes a policy for if/when to
                          pull a container image
                        type: string
                    required:
                    - image
                    - imagePullPolicy
                    type: object
                  serverPort:
                    format: int32
                    type: integer
                type: object
              reaper:
                description: 'TODO: choose which fields will go into the Reaper ConfigMap'
                properties:
                  autoScheduling:
                    properties:
                      enabled:
                        type: boolean
                      excludedKeyspaces:
                        items:
                          type: string
                        type: array
                      initialDelayPeriod:
                        type: string
                      periodBetweenPolls:
                        type: string
                      scheduleSpreadPeriod:
                        type: string
                      timeBeforeFirstSchedule:
                        type: string
                    type: object
                  blacklistTWCS:
                    type: boolean
                  datacenterAvailability:
                    type: string
                  dcs:
                    items:
                      properties:
                        name:
                          type: string
                        replicas:
                          format: int32
                          type: integer
                      required:
                      - name
                      - replicas
                      type: object
                    type: array
                  image:
                    type: string
                  imagePullPolicy:
                    description: PullPolicy describes a policy for if/when to pull
                      a container image
                    type: string
                  incrementalRepair:
                    type: boolean
                  keyspace:
                    type: string
                  nodeSelector:
                    additionalProperties:
                      type: string
                    type: object
                  repairIntensity:
                    type: string
                  repairManagerSchedulingIntervalSeconds:
                    format: int32
                    type: integer
                  resources:
                    description: ResourceRequirements describes the compute resource
                      requirements.
                    properties:
                      limits:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: 'Limits describes the maximum amount of compute
                          resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                        type: object
                      requests:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: 'Requests describes the minimum amount of compute
                          resources required. If Requests is omitted for a container,
                          it defaults to Limits if that is explicitly specified, otherwise
                          to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                        type: object
                    type: object
                  scheduleRepairs:
                    properties:
                      enabled:
                        type: boolean
                      repairs:
                        items:
                          properties:
                            datacenters:
                              items:
                                type: string
                              type: array
                            incrementalRepair:
                              type: boolean
                            intensity:
                              type: string
                            keyspace:
                              type: string
                            owner:
                              type: string
                            repairParallelism:
                              type: string
                            repairThreadCount:
                              format: int32
                              type: integer
                            scheduleDaysBetween:
                              format: int32
                              type: integer
                            scheduleTriggerTime:
                              type: string
                            tables:
                              items:
                                type: string
                              type: array
                          required:
                          - intensity
                          - keyspace
                          - repairParallelism
                          - repairThreadCount
                          type: object
                        type: array
                      startRepairsIn:
                        type: string
                    type: object
                  tolerations:
                    items:
                      description: The pod this Toleration is attached to tolerates
                        any taint that matches the triple <key,value,effect> using
                        the matching operator <operator>.
                      properties:
                        effect:
                          description: Effect indicates the taint effect to match.
                            Empty means match all taint effects. When specified, allowed
                            values are NoSchedule, PreferNoSchedule and NoExecute.
                          type: string
                        key:
                          description: Key is the taint key that the toleration applies
                            to. Empty means match all taint keys. If the key is empty,
                            operator must be Exists; this combination means to match
                            all values and all keys.
                          type: string
                        operator:
                          description: Operator represents a key's relationship to
                            the value. Valid operators are Exists and Equal. Defaults
                            to Equal. Exists is equivalent to wildcard for value,
                            so that a pod can tolerate all taints of a particular
                            category.
                          type: string
                        tolerationSeconds:
                          description: TolerationSeconds represents the period of
                            time the toleration (which must be of effect NoExecute,
                            otherwise this field is ignored) tolerates the taint.
                            By default, it is not set, which means tolerate the taint
                            forever (do not evict). Zero and negative values will
                            be treated as 0 (evict immediately) by the system.
                          format: int64
                          type: integer
                        value:
                          description: Value is the taint value the toleration matches
                            to. If the operator is Exists, the value should be empty,
                            otherwise just a regular string.
                          type: string
                      type: object
                    type: array
                required:
                - datacenterAvailability
                - dcs
                - keyspace
                type: object
              systemKeyspaces:
                properties:
                  dcs:
                    items:
                      properties:
                        name:
                          type: string
                        rf:
                          format: int32
                          type: integer
                      required:
                      - name
                      - rf
                      type: object
                    type: array
                  names:
                    items:
                      type: string
                    type: array
                required:
                - dcs
                - names
                type: object
            required:
            - dcs
            - imagePullSecretName
            type: object
          status:
            description: CassandraClusterStatus defines the observed state of CassandraCluster
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
